/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["canvaslib"] = factory();
	else
		root["canvaslib"] = factory();
})(self, function() {
return /******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/core/Engine.ts":
/*!****************************!*\
  !*** ./src/core/Engine.ts ***!
  \****************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nvar Vector_1 = __importDefault(__webpack_require__(/*! ../math/Vector */ \"./src/math/Vector.ts\"));\r\nvar Engine = /** @class */ (function () {\r\n    /* eslint-disable-next-line */\r\n    function Engine(options) {\r\n        this.timing = {\r\n            delta: 0,\r\n            timestamp: 0,\r\n            lastDelta: 0,\r\n            lastElapsed: 0,\r\n        };\r\n        this.gravity = new Vector_1.default(0, 1);\r\n        this.gravityScale = 0.001;\r\n        // todo add options\r\n        this.gameObjects = [];\r\n    }\r\n    Engine.prototype.AddGameObject = function (gameObject) {\r\n        this.gameObjects.push(gameObject);\r\n        this.render.AddGameObject(gameObject);\r\n    };\r\n    Engine.prototype.Update = function (delta) {\r\n        var startTime = Date.now();\r\n        var deltaTime = delta || 1000 / 60;\r\n        this.timing.delta = deltaTime;\r\n        this.timing.timestamp += deltaTime;\r\n        this.timing.lastDelta = deltaTime;\r\n        for (var _i = 0, _a = this.gameObjects; _i < _a.length; _i++) {\r\n            var go = _a[_i];\r\n            var comps = go.GetComponents();\r\n            for (var _b = 0, comps_1 = comps; _b < comps_1.length; _b++) {\r\n                var comp = comps_1[_b];\r\n                comp.Update(deltaTime);\r\n            }\r\n        }\r\n        this.timing.lastElapsed = Date.now() - startTime;\r\n    };\r\n    return Engine;\r\n}());\r\nexports[\"default\"] = Engine;\r\n\n\n//# sourceURL=webpack://canvaslib/./src/core/Engine.ts?");

/***/ }),

/***/ "./src/math/Mathf.ts":
/*!***************************!*\
  !*** ./src/math/Mathf.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nvar Mathf = /** @class */ (function () {\r\n    function Mathf() {\r\n    }\r\n    Mathf.Clamp = function (value, min, max) {\r\n        return Math.max(min, Math.min(value, max));\r\n    };\r\n    Mathf.Clamp01 = function (value) {\r\n        if (value < 0) {\r\n            return 0;\r\n        }\r\n        else if (value > 1) {\r\n            return 1;\r\n        }\r\n        else {\r\n            return value;\r\n        }\r\n    };\r\n    Mathf.Repeat = function (t, length) {\r\n        return Mathf.Clamp(t - Math.floor(t / length) * length, 0, length);\r\n    };\r\n    Mathf.PingPong = function (t, length) {\r\n        t = Mathf.Repeat(t, length * 2);\r\n        return length - Math.abs(t - length);\r\n    };\r\n    Mathf.Lerp = function (a, b, t) {\r\n        return a + (b - a) * t;\r\n    };\r\n    return Mathf;\r\n}());\r\nexports[\"default\"] = Mathf;\r\n\n\n//# sourceURL=webpack://canvaslib/./src/math/Mathf.ts?");

/***/ }),

/***/ "./src/math/Vector.ts":
/*!****************************!*\
  !*** ./src/math/Vector.ts ***!
  \****************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nvar Mathf_1 = __importDefault(__webpack_require__(/*! ./Mathf */ \"./src/math/Mathf.ts\"));\r\nvar Vector = /** @class */ (function () {\r\n    function Vector(x, y) {\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n    /**\r\n     * Check whether { x } is of type Vector or number.\r\n     */\r\n    Vector.isVector = function (x) {\r\n        return x instanceof Vector;\r\n    };\r\n    Vector.Dist = function (a, b) {\r\n        var squaredSum = Math.pow(a.x - b.x, 2) + Math.pow(a.y - b.y, 2);\r\n        return Math.sqrt(squaredSum);\r\n    };\r\n    Vector.Dot = function (a, b) {\r\n        return a.x * b.x + a.y * b.y;\r\n    };\r\n    Vector.Magnitude = function (vector) {\r\n        return Math.sqrt(vector.x * vector.x + vector.y * vector.y);\r\n    };\r\n    Vector.MagnitudeSquared = function (vector) {\r\n        return vector.x * vector.x + vector.y * vector.y;\r\n    };\r\n    Vector.Normalize = function (vector) {\r\n        var magnitude = Vector.Magnitude(vector);\r\n        if (magnitude === 0) {\r\n            return Vector.zero;\r\n        }\r\n        return new Vector(vector.x / magnitude, vector.y / magnitude);\r\n    };\r\n    Vector.Lerp = function (a, b, t) {\r\n        t = Mathf_1.default.Clamp01(t);\r\n        return new Vector(a.x + (b.x - a.x) * t, a.y + (b.y - a.y) * t);\r\n    };\r\n    // #region arithmetic\r\n    Vector.Add = function (a, b) {\r\n        if (!Vector.isVector(b)) {\r\n            b = b;\r\n            return new Vector(a.x + b, a.y + b);\r\n        }\r\n        b = b;\r\n        return new Vector(a.x + b.x, a.y + b.x);\r\n    };\r\n    Vector.Sub = function (a, b) {\r\n        if (!Vector.isVector(b)) {\r\n            console.log(b);\r\n            b = b;\r\n            return new Vector(a.x - b, a.y - b);\r\n        }\r\n        b = b;\r\n        return new Vector(a.x - b.x, a.y - b.x);\r\n    };\r\n    Vector.Multiply = function (a, b) {\r\n        if (!Vector.isVector(b)) {\r\n            b = b;\r\n            return new Vector(a.x * b, a.y * b);\r\n        }\r\n        b = b;\r\n        return new Vector(a.x * b.x, a.y * b.x);\r\n    };\r\n    Vector.Divide = function (a, b) {\r\n        if (!Vector.isVector(b)) {\r\n            b = b;\r\n            return new Vector(a.x - b, a.y - b);\r\n        }\r\n        b = b;\r\n        return new Vector(a.x - b.x, a.y - b.x);\r\n    };\r\n    Vector.zero = new Vector(0, 0);\r\n    Vector.up = new Vector(0, 0);\r\n    Vector.down = new Vector(0, 0);\r\n    Vector.left = new Vector(0, 0);\r\n    Vector.right = new Vector(0, 0);\r\n    return Vector;\r\n}());\r\nexports[\"default\"] = Vector;\r\n\n\n//# sourceURL=webpack://canvaslib/./src/math/Vector.ts?");

/***/ }),

/***/ "./src/math/Vertices.ts":
/*!******************************!*\
  !*** ./src/math/Vertices.ts ***!
  \******************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nvar Vector_1 = __importDefault(__webpack_require__(/*! ./Vector */ \"./src/math/Vector.ts\"));\r\nvar Vertices = /** @class */ (function () {\r\n    function Vertices(x, y, index, isInternal) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.index = index;\r\n        this.isInternal = isInternal;\r\n    }\r\n    Vertices.Create = function (points) {\r\n        var vertices = [];\r\n        for (var i = 0; i < points.length; i++) {\r\n            var point = points[i];\r\n            var vertex = new Vertices(point.x, point.y, i, false);\r\n            vertices.push(vertex);\r\n        }\r\n        return vertices;\r\n    };\r\n    Vertices.FromPath = function (path) {\r\n        var points = [];\r\n        var pathPattern = /L?\\s*([-\\d.e]+)[\\s,]*([-\\d.e]+)*/gi;\r\n        var matches = path.match(pathPattern);\r\n        if (matches === null)\r\n            return null;\r\n        for (var _i = 0, matches_1 = matches; _i < matches_1.length; _i++) {\r\n            var a = matches_1[_i];\r\n            var _a = a.split(\" \"), x = _a[1], y = _a[2];\r\n            points.push(new Vector_1.default(parseFloat(x), parseFloat(y)));\r\n        }\r\n        return Vertices.Create(points);\r\n    };\r\n    Vertices.Translate = function (vertices, vector, scalar) {\r\n        if (scalar === void 0) { scalar = 1; }\r\n        if (scalar) {\r\n            for (var i = 0; i < vertices.length; i++) {\r\n                vertices[i].x += vector.x * scalar;\r\n                vertices[i].y += vector.y * scalar;\r\n            }\r\n        }\r\n        else {\r\n            for (var i = 0; i < vertices.length; i++) {\r\n                vertices[i].x += vector.x;\r\n                vertices[i].y += vector.y;\r\n            }\r\n        }\r\n    };\r\n    return Vertices;\r\n}());\r\nexports[\"default\"] = Vertices;\r\n\n\n//# sourceURL=webpack://canvaslib/./src/math/Vertices.ts?");

/***/ }),

/***/ "./src/object/GameObject.ts":
/*!**********************************!*\
  !*** ./src/object/GameObject.ts ***!
  \**********************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nvar Vector_1 = __importDefault(__webpack_require__(/*! ../math/Vector */ \"./src/math/Vector.ts\"));\r\nvar util_1 = __webpack_require__(/*! ../util/util */ \"./src/util/util.ts\");\r\nvar Color_1 = __importDefault(__webpack_require__(/*! ../util/Color */ \"./src/util/Color.ts\"));\r\nvar GameObject = /** @class */ (function () {\r\n    function GameObject(name, position, vertices, options) {\r\n        var _a, _b;\r\n        this.components = [];\r\n        this.strokeColor = new Color_1.default(\"#ff00ff\");\r\n        this.fillColor = new Color_1.default(\"#ff00ff\");\r\n        // Transform\r\n        this.position = Vector_1.default.zero;\r\n        this.rotation = Vector_1.default.zero;\r\n        this._localPosition = Vector_1.default.zero;\r\n        this._localRotation = Vector_1.default.zero;\r\n        this.children = [];\r\n        this.name = name;\r\n        this.uuid = (0, util_1.getUUID)();\r\n        this.vertices = vertices !== null && vertices !== void 0 ? vertices : [];\r\n        this.position = position !== null && position !== void 0 ? position : Vector_1.default.zero;\r\n        if (options) {\r\n            this.strokeColor = (_a = options.strokeColor) !== null && _a !== void 0 ? _a : this.strokeColor;\r\n            this.fillColor = (_b = options.fillColor) !== null && _b !== void 0 ? _b : this.fillColor;\r\n        }\r\n    }\r\n    Object.defineProperty(GameObject.prototype, \"localPosition\", {\r\n        // todo: add local position\r\n        get: function () {\r\n            if (this.parent === undefined) {\r\n                return this.rotation;\r\n            }\r\n            else {\r\n                return this._localPosition;\r\n            }\r\n        },\r\n        // todo: add local position\r\n        set: function (val) {\r\n            this._localRotation = val;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(GameObject.prototype, \"localRotation\", {\r\n        // todo: add local position\r\n        get: function () {\r\n            if (this.parent === undefined) {\r\n                return this.rotation;\r\n            }\r\n            else {\r\n                return this._localRotation;\r\n            }\r\n        },\r\n        // todo: add local position\r\n        set: function (val) {\r\n            this._localRotation = val;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    GameObject.prototype.SetPosition = function (vec) {\r\n        this.position = vec;\r\n    };\r\n    GameObject.prototype.SetRotation = function (vec) {\r\n        this.rotation = vec;\r\n    };\r\n    // COMPONENT STUFF\r\n    GameObject.prototype.AddComponent = function (comp) {\r\n        this.components.push(comp);\r\n    };\r\n    GameObject.prototype.GetComponent = function (type) {\r\n        for (var _i = 0, _a = this.components; _i < _a.length; _i++) {\r\n            var comp = _a[_i];\r\n            if (comp.type === type) {\r\n                return comp;\r\n            }\r\n        }\r\n    };\r\n    GameObject.prototype.GetComponents = function () {\r\n        return this.components;\r\n    };\r\n    Object.defineProperty(GameObject.prototype, \"canRender\", {\r\n        get: function () {\r\n            this._canRender = this.vertices !== [];\r\n            return this._canRender;\r\n        },\r\n        set: function (val) {\r\n            if (this.vertices !== []) {\r\n                this._canRender = val;\r\n            }\r\n            else {\r\n                this._canRender = false;\r\n            }\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    return GameObject;\r\n}());\r\nexports[\"default\"] = GameObject;\r\n\n\n//# sourceURL=webpack://canvaslib/./src/object/GameObject.ts?");

/***/ }),

/***/ "./src/object/prefab/Prefab.ts":
/*!*************************************!*\
  !*** ./src/object/prefab/Prefab.ts ***!
  \*************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nvar Vertices_1 = __importDefault(__webpack_require__(/*! ../../math/Vertices */ \"./src/math/Vertices.ts\"));\r\nvar util_1 = __webpack_require__(/*! ../../util/util */ \"./src/util/util.ts\");\r\nvar GameObject_1 = __importDefault(__webpack_require__(/*! ../GameObject */ \"./src/object/GameObject.ts\"));\r\nvar Vector_1 = __importDefault(__webpack_require__(/*! ../../math/Vector */ \"./src/math/Vector.ts\"));\r\nvar Color_1 = __importDefault(__webpack_require__(/*! ../../util/Color */ \"./src/util/Color.ts\"));\r\nvar Prefab = /** @class */ (function () {\r\n    function Prefab() {\r\n        this.components = [];\r\n        this.parameters = {};\r\n        this.GUID = (0, util_1.getUUID)();\r\n    }\r\n    Prefab.prototype.toJson = function () {\r\n        var components = this.components;\r\n        var objectified = Prefab.classToObject(this);\r\n        var parameters = objectified.parameters;\r\n        delete objectified.parameters;\r\n        var object = {};\r\n        var componentIds = [];\r\n        for (var _i = 0, components_1 = components; _i < components_1.length; _i++) {\r\n            var comp = components_1[_i];\r\n            for (var _a = 0, _b = Object.entries(comp); _a < _b.length; _a++) {\r\n                var _c = _b[_a], key = _c[0], value = _c[1];\r\n                object[key] = value;\r\n                componentIds.push(key);\r\n            }\r\n        }\r\n        var componentObject = [];\r\n        for (var _d = 0, componentIds_1 = componentIds; _d < componentIds_1.length; _d++) {\r\n            var id = componentIds_1[_d];\r\n            componentObject.push({ fileID: id });\r\n        }\r\n        objectified.components = componentObject;\r\n        object[this.GUID] = objectified;\r\n        var _e = Prefab.convertParameters(parameters), paramObjects = _e.paramObjects, newObjects = _e.newObjects;\r\n        var mergedObject = __assign(__assign({}, object), newObjects);\r\n        mergedObject[this.GUID] = __assign(__assign({}, mergedObject[this.GUID]), paramObjects);\r\n        return JSON.stringify(mergedObject, undefined, 2);\r\n    };\r\n    Prefab.fromJson = function (prefab) {\r\n        var parsedObjects = [];\r\n        var parsedGameObjects = [];\r\n        // todo: Add parsing for components\r\n        for (var _i = 0, _a = Object.entries(prefab); _i < _a.length; _i++) {\r\n            var _b = _a[_i], guid = _b[0], obj = _b[1];\r\n            if (obj.type === \"GameObject\") {\r\n                var go = obj;\r\n                var newGo = new GameObject_1.default(go.name);\r\n                var ids = Object.entries(go)\r\n                    .filter(function (_a) {\r\n                    var key = _a[0], val = _a[1];\r\n                    if (typeof val === \"object\" && key !== \"components\") {\r\n                        val = val;\r\n                        return [key, val[\"fileID\"]];\r\n                    }\r\n                })\r\n                    .map(function (a) {\r\n                    a[1] = a[1][\"fileID\"];\r\n                    return {\r\n                        name: a[0],\r\n                        id: a[1],\r\n                    };\r\n                });\r\n                parsedGameObjects.push({\r\n                    guid: guid,\r\n                    gameObject: newGo,\r\n                    requiredParams: ids,\r\n                });\r\n            }\r\n            if (obj.type === \"Vector\") {\r\n                var vec = obj;\r\n                var newVec = new Vector_1.default(vec.x, vec.y);\r\n                parsedObjects.push({ guid: guid, obj: newVec });\r\n            }\r\n            if (obj.type === \"VertexArray\") {\r\n                var vertArr = obj;\r\n                var newVertArr = vertArr.vertices.map(function (vert) {\r\n                    return new Vertices_1.default(vert.x, vert.y, vert.index, vert.isInternal);\r\n                });\r\n                parsedObjects.push({ guid: guid, obj: newVertArr });\r\n            }\r\n            if (obj.type === \"Color\") {\r\n                var color = obj;\r\n                var newColor = new Color_1.default(color.hexColor);\r\n                parsedObjects.push({ guid: guid, obj: newColor });\r\n            }\r\n        }\r\n        //console.log(parsedObjects);\r\n        for (var _c = 0, parsedGameObjects_1 = parsedGameObjects; _c < parsedGameObjects_1.length; _c++) {\r\n            var go = parsedGameObjects_1[_c];\r\n            var gameObject = go.gameObject;\r\n            var _loop_1 = function (req) {\r\n                var found = parsedObjects.find(function (v) { return v.guid === req.id; });\r\n                if (!found)\r\n                    return \"continue\";\r\n                if (!gameObject[req.name])\r\n                    return \"continue\";\r\n                try {\r\n                    // @ts-ignore\r\n                    gameObject[req.name] = found.obj;\r\n                }\r\n                catch (error) {\r\n                    // This is horrible but yea\r\n                }\r\n            };\r\n            for (var _d = 0, _e = go.requiredParams; _d < _e.length; _d++) {\r\n                var req = _e[_d];\r\n                _loop_1(req);\r\n            }\r\n            return gameObject;\r\n        }\r\n    };\r\n    Prefab.convertParameters = function (params) {\r\n        var dissallowed = [\"uuid\", \"components\"];\r\n        var filtered = Object.fromEntries(Object.entries(params).filter(function (_a) {\r\n            var k = _a[0];\r\n            return !dissallowed.includes(k);\r\n        }));\r\n        var paramObjects = {};\r\n        var newObjects = {};\r\n        for (var _i = 0, _a = Object.entries(filtered); _i < _a.length; _i++) {\r\n            var _b = _a[_i], key = _b[0], value = _b[1];\r\n            if (typeof value === \"object\") {\r\n                if (Array.isArray(value)) {\r\n                    if (value.length === 0)\r\n                        continue;\r\n                    var GUID = (0, util_1.getUUID)();\r\n                    newObjects[GUID] = {\r\n                        type: \"VertexArray\",\r\n                        vertices: value,\r\n                    };\r\n                    paramObjects[key] = { fileID: GUID };\r\n                }\r\n                if (value instanceof Color_1.default) {\r\n                    var GUID = (0, util_1.getUUID)();\r\n                    newObjects[GUID] = {\r\n                        type: \"Color\",\r\n                        hexColor: value.hexColor,\r\n                        rgbColor: value.rgbColor,\r\n                    };\r\n                    paramObjects[key] = { fileID: GUID };\r\n                }\r\n                if (value instanceof Vector_1.default) {\r\n                    var GUID = (0, util_1.getUUID)();\r\n                    newObjects[GUID] = {\r\n                        type: \"Vector\",\r\n                        x: value.x,\r\n                        y: value.y,\r\n                    };\r\n                    paramObjects[key] = { fileID: GUID };\r\n                }\r\n            }\r\n            else {\r\n                paramObjects[key] = value;\r\n            }\r\n        }\r\n        return { paramObjects: paramObjects, newObjects: newObjects };\r\n    };\r\n    Prefab.prefabFromGameObject = function (go) {\r\n        var prefab = new Prefab();\r\n        prefab.type = \"GameObject\";\r\n        if (go.components.length !== 0) {\r\n            var components = [];\r\n            for (var _i = 0, _a = go.components; _i < _a.length; _i++) {\r\n                var comp = _a[_i];\r\n                var _b = Prefab.convertComponent(comp), compObject = _b.compObject, GUID = _b.GUID;\r\n                components.push(GUID);\r\n                prefab.components.push(compObject);\r\n            }\r\n        }\r\n        prefab.parameters = Prefab.classToObject(go);\r\n        return prefab;\r\n    };\r\n    Prefab.convertComponent = function (comp) {\r\n        var _a;\r\n        var GUID = (0, util_1.getUUID)();\r\n        var badTypes = [GameObject_1.default, Vector_1.default];\r\n        var combined = Prefab.classToObject(comp);\r\n        var objKey = [];\r\n        var objVal = [];\r\n        for (var _i = 0, _b = Object.entries(combined); _i < _b.length; _i++) {\r\n            var _c = _b[_i], key = _c[0], value = _c[1];\r\n            var contin = false;\r\n            for (var _d = 0, badTypes_1 = badTypes; _d < badTypes_1.length; _d++) {\r\n                var type = badTypes_1[_d];\r\n                if (value instanceof type) {\r\n                    contin = true;\r\n                    break;\r\n                }\r\n            }\r\n            if (contin)\r\n                continue;\r\n            objKey.push(key);\r\n            objVal.push(value);\r\n        }\r\n        var object = Object.fromEntries(objKey.map(function (key, index) { return [key, objVal[index]]; }));\r\n        var compObject = (_a = {}, _a[GUID] = object, _a);\r\n        return { compObject: compObject, GUID: GUID };\r\n    };\r\n    Prefab.classToObject = function (_class) {\r\n        var keys = Object.keys(_class);\r\n        var values = Object.values(_class);\r\n        var combined = Object.fromEntries(keys.map(function (key, index) { return [key, values[index]]; }));\r\n        return combined;\r\n    };\r\n    return Prefab;\r\n}());\r\nexports[\"default\"] = Prefab;\r\n\n\n//# sourceURL=webpack://canvaslib/./src/object/prefab/Prefab.ts?");

/***/ }),

/***/ "./src/render/Render.ts":
/*!******************************!*\
  !*** ./src/render/Render.ts ***!
  \******************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nvar Color_1 = __importDefault(__webpack_require__(/*! ../util/Color */ \"./src/util/Color.ts\"));\r\nvar Render = /** @class */ (function () {\r\n    function Render(options) {\r\n        var _a, _b, _c, _d, _e, _f;\r\n        this.fps = 60;\r\n        this.width = 100;\r\n        this.height = 100;\r\n        this.hasBounds = false;\r\n        this.convex = true;\r\n        this.bounds = {\r\n            min: {\r\n                width: 0,\r\n                height: 0,\r\n            },\r\n            max: {\r\n                width: 100,\r\n                height: 100,\r\n            },\r\n        };\r\n        this.timing = {\r\n            delta: 0,\r\n            lastTime: 0,\r\n        };\r\n        // todo: This should be a color object\r\n        this.backgroundColor = new Color_1.default(\"#202020\");\r\n        this.fps = (_a = options.fps) !== null && _a !== void 0 ? _a : this.fps;\r\n        this.width = (_b = options.width) !== null && _b !== void 0 ? _b : this.width;\r\n        this.height = (_c = options.height) !== null && _c !== void 0 ? _c : this.height;\r\n        this.hasBounds = (_d = options.hasBounds) !== null && _d !== void 0 ? _d : this.hasBounds;\r\n        this.backgroundColor = (_e = options.backgroundColor) !== null && _e !== void 0 ? _e : this.backgroundColor;\r\n        this.canvas = (_f = this.canvas) !== null && _f !== void 0 ? _f : this._CreateCanvas();\r\n        this.ctx = this.canvas.getContext(\"2d\");\r\n        this.objects = [];\r\n        // Canvas creation\r\n        var element = (document.getElementById(\"container\"));\r\n        element.appendChild(this.canvas);\r\n        this.canvas.style.border = \"1px solid black\";\r\n        if (options.center) {\r\n            element.style.textAlign = \"center\";\r\n            this.canvas.style.display = \"inline\";\r\n        }\r\n    }\r\n    Render.prototype.AddGameObject = function (gameObject) {\r\n        this.objects.push(gameObject);\r\n    };\r\n    Render.prototype.Run = function () {\r\n        var _this = this;\r\n        var loop = function (ms) {\r\n            window.requestAnimationFrame(loop);\r\n            _this._UpdateTiming(ms);\r\n            _this.World(ms);\r\n        };\r\n        loop(0);\r\n    };\r\n    Render.prototype.World = function (ms) {\r\n        this.ctx.fillStyle = this.backgroundColor.hexColor;\r\n        this.ctx.fillRect(0, 0, this.width, this.height);\r\n        if (this.convex) {\r\n            this.DrawConvex(this.objects);\r\n        }\r\n        else {\r\n            this.DrawWireframes(this.objects);\r\n        }\r\n    };\r\n    Render.prototype.DrawWireframes = function (objects) {\r\n        var c = this.ctx;\r\n        // render all objects\r\n        for (var _i = 0, objects_1 = objects; _i < objects_1.length; _i++) {\r\n            var obj = objects_1[_i];\r\n            if (!obj.canRender)\r\n                continue;\r\n            c.translate(obj.position.x, obj.position.y);\r\n            c.beginPath();\r\n            this.DrawPolygon(c, obj);\r\n            c.closePath();\r\n            c.strokeStyle = obj.strokeColor.hexColor;\r\n            c.stroke();\r\n            c.setTransform(1, 0, 0, 1, 0, 0);\r\n        }\r\n    };\r\n    Render.prototype.DrawConvex = function (objects) {\r\n        var c = this.ctx;\r\n        //c.beginPath();\r\n        // render all objects\r\n        for (var _i = 0, objects_2 = objects; _i < objects_2.length; _i++) {\r\n            var obj = objects_2[_i];\r\n            if (!obj.canRender)\r\n                continue;\r\n            c.translate(obj.position.x, obj.position.y);\r\n            c.beginPath();\r\n            this.DrawPolygon(c, obj);\r\n            c.closePath();\r\n            c.fillStyle = obj.fillColor.hexColor;\r\n            c.fill();\r\n            c.setTransform(1, 0, 0, 1, 0, 0);\r\n        }\r\n    };\r\n    Render.prototype.DrawPolygon = function (c, obj) {\r\n        c.moveTo(obj.vertices[0].x, obj.vertices[0].y);\r\n        for (var j = 1; j < obj.vertices.length; j++) {\r\n            if (!obj.vertices[j - 1].isInternal) {\r\n                c.lineTo(obj.vertices[j].x, obj.vertices[j].y);\r\n            }\r\n            else {\r\n                c.moveTo(obj.vertices[j].x, obj.vertices[j].y);\r\n            }\r\n            if (obj.vertices[j].isInternal) {\r\n                c.moveTo(obj.vertices[(j + 1) % obj.vertices.length].x, obj.vertices[(j + 1) % obj.vertices.length].y);\r\n            }\r\n        }\r\n        c.lineTo(obj.vertices[0].x, obj.vertices[0].y);\r\n    };\r\n    Render.prototype._UpdateTiming = function (ms) {\r\n        var timing = this.timing;\r\n        timing.delta = ms - timing.lastTime;\r\n    };\r\n    Render.prototype._CreateCanvas = function () {\r\n        var canvas = document.createElement(\"canvas\");\r\n        canvas.width = this.width;\r\n        canvas.height = this.height;\r\n        canvas.oncontextmenu = function () {\r\n            return false;\r\n        };\r\n        canvas.onselectstart = function () {\r\n            return false;\r\n        };\r\n        return canvas;\r\n    };\r\n    return Render;\r\n}());\r\nexports[\"default\"] = Render;\r\n\n\n//# sourceURL=webpack://canvaslib/./src/render/Render.ts?");

/***/ }),

/***/ "./src/test.ts":
/*!*********************!*\
  !*** ./src/test.ts ***!
  \*********************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nvar Engine_1 = __importDefault(__webpack_require__(/*! ./core/Engine */ \"./src/core/Engine.ts\"));\r\nvar Render_1 = __importDefault(__webpack_require__(/*! ./render/Render */ \"./src/render/Render.ts\"));\r\nvar Prefab_1 = __importDefault(__webpack_require__(/*! ./object/prefab/Prefab */ \"./src/object/prefab/Prefab.ts\"));\r\nvar rect_prefab_1 = __importDefault(__webpack_require__(/*! ./testPrefabs/rect.prefab */ \"./src/testPrefabs/rect.prefab.ts\"));\r\nvar engineOptions = {};\r\nvar renderOptions = {\r\n    fps: 60,\r\n    width: 600,\r\n    height: 600,\r\n    hasBounds: false,\r\n    center: true,\r\n};\r\nvar _Engine;\r\nvar _Render;\r\nvar gameLoop = function () {\r\n    _Engine.Update();\r\n};\r\nwindow.onload = function () {\r\n    _Engine = new Engine_1.default(engineOptions);\r\n    _Render = new Render_1.default(renderOptions);\r\n    _Engine.render = _Render;\r\n    /* \tconst options: ObjectOptions = { fillColor: new Color(\"#cb0020\") };\r\n    const rect = <GameObject>Primitives.Rectangle(200, 300, 100, 100, options);\r\n    rect.AddComponent(new Transform(rect, new Vector(123, 456)));\r\n    _Engine.AddGameObject(rect); */\r\n    var rect = Prefab_1.default.fromJson(rect_prefab_1.default);\r\n    _Engine.AddGameObject(rect);\r\n    _Render.Run();\r\n    setInterval(gameLoop, 1000 / 60);\r\n};\r\n\n\n//# sourceURL=webpack://canvaslib/./src/test.ts?");

/***/ }),

/***/ "./src/testPrefabs/rect.prefab.ts":
/*!****************************************!*\
  !*** ./src/testPrefabs/rect.prefab.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nvar rect = {\r\n    \"7666f31d-f21a-48fc-87c3-17c145d80410\": {\r\n        components: [],\r\n        type: \"GameObject\",\r\n        strokeColor: {\r\n            fileID: \"3a22fc8d-d93a-4f5c-a5ea-e6c93590fae6\",\r\n        },\r\n        fillColor: {\r\n            fileID: \"99eab359-8302-47f8-b34d-af1673247ae0\",\r\n        },\r\n        position: {\r\n            fileID: \"21e7c51e-e2a3-4531-9d69-c44fd96e6135\",\r\n        },\r\n        rotation: {\r\n            fileID: \"63e9aced-7dc0-49a6-81e4-05d083bffec9\",\r\n        },\r\n        name: \"Rectangle\",\r\n        vertices: {\r\n            fileID: \"4401df05-e3ab-40bb-823a-d279cb9509e9\",\r\n        },\r\n    },\r\n    \"3a22fc8d-d93a-4f5c-a5ea-e6c93590fae6\": {\r\n        type: \"Color\",\r\n        hexColor: \"#ff00ff\",\r\n        rgbColor: \"rgb(255, 0, 255)\",\r\n    },\r\n    \"99eab359-8302-47f8-b34d-af1673247ae0\": {\r\n        type: \"Color\",\r\n        hexColor: \"#cb0020\",\r\n        rgbColor: \"rgb(203, 0, 32)\",\r\n    },\r\n    \"21e7c51e-e2a3-4531-9d69-c44fd96e6135\": {\r\n        type: \"Vector\",\r\n        x: 200,\r\n        y: 300,\r\n    },\r\n    \"63e9aced-7dc0-49a6-81e4-05d083bffec9\": {\r\n        type: \"Vector\",\r\n        x: 0,\r\n        y: 0,\r\n    },\r\n    \"4401df05-e3ab-40bb-823a-d279cb9509e9\": {\r\n        type: \"VertexArray\",\r\n        vertices: [\r\n            {\r\n                x: 0,\r\n                y: 0,\r\n                index: 0,\r\n                isInternal: false,\r\n            },\r\n            {\r\n                x: 100,\r\n                y: 0,\r\n                index: 1,\r\n                isInternal: false,\r\n            },\r\n            {\r\n                x: 100,\r\n                y: 100,\r\n                index: 2,\r\n                isInternal: false,\r\n            },\r\n            {\r\n                x: 0,\r\n                y: 100,\r\n                index: 3,\r\n                isInternal: false,\r\n            },\r\n        ],\r\n    },\r\n};\r\nexports[\"default\"] = rect;\r\n\n\n//# sourceURL=webpack://canvaslib/./src/testPrefabs/rect.prefab.ts?");

/***/ }),

/***/ "./src/util/Color.ts":
/*!***************************!*\
  !*** ./src/util/Color.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nvar Color = /** @class */ (function () {\r\n    function Color(color) {\r\n        if (color)\r\n            this.setColor(color);\r\n    }\r\n    Object.defineProperty(Color.prototype, \"color\", {\r\n        set: function (val) {\r\n            this.setColor(val);\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Color.prototype, \"hexColor\", {\r\n        get: function () {\r\n            return this._hexColor;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Color.prototype, \"rgbColor\", {\r\n        get: function () {\r\n            return this._rgbColor;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Color.prototype.setColor = function (val) {\r\n        if (/^#[0-9A-F]{6}$/i.test(val)) {\r\n            this._hexColor = val;\r\n            this._rgbColor = Color.rgbFromHex(val);\r\n        }\r\n        else if (Color.isRgb(val)) {\r\n            this._hexColor = Color.hexFromRgb(val);\r\n            this._rgbColor = val;\r\n        }\r\n    };\r\n    Color.rgbFromHex = function (hex) {\r\n        hex = hex.split(\"#\")[1];\r\n        var rgbLst = [];\r\n        for (var i = 0; i < hex.length; i += 2) {\r\n            var hexCode = hex.slice(i, i + 2);\r\n            var dec = parseInt(hexCode, 16);\r\n            rgbLst.push(dec);\r\n        }\r\n        var r = rgbLst[0], g = rgbLst[1], b = rgbLst[2];\r\n        var str = \"rgb(\" + r + \", \" + g + \", \" + b + \")\";\r\n        return str;\r\n    };\r\n    Color.hexFromRgb = function (rgb) {\r\n        var rgbVals = rgb.split(\"(\")[1].split(\")\")[0];\r\n        var _a = rgbVals.split(\",\"), r = _a[0], g = _a[1], b = _a[2];\r\n        r = parseInt(r.replace(\" \", \"\")).toString(16);\r\n        g = parseInt(g.replace(\" \", \"\")).toString(16);\r\n        b = parseInt(b.replace(\" \", \"\")).toString(16);\r\n        var str = \"#\" + r + g + b;\r\n        return str;\r\n    };\r\n    Color.isRgb = function (val) {\r\n        return /^(rgb|hsl)(a?)[(]\\s*([\\d.]+\\s*%?)\\s*,\\s*([\\d.]+\\s*%?)\\s*,\\s*([\\d.]+\\s*%?)\\s*(?:,\\s*([\\d.]+)\\s*)?[)]$/.test(val);\r\n    };\r\n    return Color;\r\n}());\r\nexports[\"default\"] = Color;\r\n\n\n//# sourceURL=webpack://canvaslib/./src/util/Color.ts?");

/***/ }),

/***/ "./src/util/util.ts":
/*!**************************!*\
  !*** ./src/util/util.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.getUUID = void 0;\r\nvar getUUID = function () {\r\n    var uuid = window.URL.createObjectURL(new Blob([])).substr(-36);\r\n    return uuid;\r\n};\r\nexports.getUUID = getUUID;\r\n\n\n//# sourceURL=webpack://canvaslib/./src/util/util.ts?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module is referenced by other modules so it can't be inlined
/******/ 	var __webpack_exports__ = __webpack_require__("./src/test.ts");
/******/ 	
/******/ 	return __webpack_exports__;
/******/ })()
;
});